ğŸ“¦ ESTRUTURA COMPLETA DO PROJETO NR1 EAD
===============================================

NR1/
â”‚
â”œâ”€â”€ ğŸ“„ README.md                          # DocumentaÃ§Ã£o principal do projeto
â”œâ”€â”€ ğŸ“„ SETUP.md                           # Guia de instalaÃ§Ã£o e setup
â”œâ”€â”€ ğŸ“„ ESTRUTURA.txt                      # Este arquivo
â”œâ”€â”€ ğŸ“„ docker-compose.yml                 # OrquestraÃ§Ã£o com Docker
â”‚
â”œâ”€â”€ ğŸ“ backend/                           # Servidor Express + MySQL
â”‚   â”œâ”€â”€ ğŸ“„ package.json                   # DependÃªncias
â”‚   â”œâ”€â”€ ğŸ“„ .env.example                   # VariÃ¡veis de ambiente
â”‚   â”œâ”€â”€ ğŸ“„ .gitignore
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚   â”‚
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ ğŸ“„ index.js                   # Entrada da aplicaÃ§Ã£o
â”‚       â”‚
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â”œâ”€â”€ database.js               # ConexÃ£o e queries MySQL
â”‚       â”‚   â””â”€â”€ jwt.js                    # GeraÃ§Ã£o e validaÃ§Ã£o de tokens
â”‚       â”‚
â”‚       â”œâ”€â”€ middleware/
â”‚       â”‚   â””â”€â”€ auth.js                   # AutenticaÃ§Ã£o e autorizaÃ§Ã£o
â”‚       â”‚
â”‚       â”œâ”€â”€ database/
â”‚       â”‚   â””â”€â”€ migrate.js                # CriaÃ§Ã£o de tabelas e admin
â”‚       â”‚
â”‚       â”œâ”€â”€ controllers/                  # LÃ³gica de negÃ³cio
â”‚       â”‚   â”œâ”€â”€ authController.js         # Login, registro, perfil
â”‚       â”‚   â”œâ”€â”€ courseController.js       # Gerenciamento de cursos
â”‚       â”‚   â”œâ”€â”€ lessonController.js       # Gerenciamento de aulas
â”‚       â”‚   â”œâ”€â”€ userController.js         # Gerenciamento de usuÃ¡rios
â”‚       â”‚   â””â”€â”€ progressController.js     # Rastreamento de progresso
â”‚       â”‚
â”‚       â”œâ”€â”€ routes/                       # DefiniÃ§Ã£o de rotas
â”‚       â”‚   â”œâ”€â”€ auth.js
â”‚       â”‚   â”œâ”€â”€ courses.js
â”‚       â”‚   â”œâ”€â”€ lessons.js
â”‚       â”‚   â”œâ”€â”€ users.js
â”‚       â”‚   â””â”€â”€ progress.js
â”‚       â”‚
â”‚       â”œâ”€â”€ services/                     # ServiÃ§os (integraÃ§Ã£o, etc)
â”‚       â””â”€â”€ utils/                        # FunÃ§Ãµes utilitÃ¡rias
â”‚
â”œâ”€â”€ ğŸ“ frontend/                          # AplicaÃ§Ã£o React + Vite
â”‚   â”œâ”€â”€ ğŸ“„ package.json                   # DependÃªncias
â”‚   â”œâ”€â”€ ğŸ“„ vite.config.js                 # ConfiguraÃ§Ã£o Vite
â”‚   â”œâ”€â”€ ğŸ“„ index.html                     # HTML principal
â”‚   â”œâ”€â”€ ğŸ“„ .gitignore
â”‚   â”œâ”€â”€ ğŸ“„ Dockerfile
â”‚   â”‚
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ ğŸ“„ main.jsx                   # Entrada da aplicaÃ§Ã£o
â”‚       â”œâ”€â”€ ğŸ“„ App.jsx                    # Componente raiz e rotas
â”‚       â”œâ”€â”€ ğŸ“„ index.css                  # Estilos globais
â”‚       â”‚
â”‚       â”œâ”€â”€ components/                   # Componentes reutilizÃ¡veis
â”‚       â”‚   â”œâ”€â”€ Header.jsx                # Barra de navegaÃ§Ã£o
â”‚       â”‚   â”œâ”€â”€ Header.css
â”‚       â”‚   â””â”€â”€ ProtectedRoute.jsx        # ProteÃ§Ã£o de rotas
â”‚       â”‚
â”‚       â”œâ”€â”€ pages/                        # PÃ¡ginas da aplicaÃ§Ã£o
â”‚       â”‚   â”œâ”€â”€ Auth.jsx                  # Login e Registro
â”‚       â”‚   â”œâ”€â”€ Auth.css
â”‚       â”‚   â”œâ”€â”€ Dashboard.jsx             # Dashboard aluno e admin
â”‚       â”‚   â”œâ”€â”€ Dashboard.css
â”‚       â”‚   â”œâ”€â”€ AdminPages.jsx            # PÃ¡ginas administrativas
â”‚       â”‚   â”œâ”€â”€ AdminPages.css
â”‚       â”‚   â””â”€â”€ Home.jsx                  # PÃ¡gina inicial
â”‚       â”‚
â”‚       â”œâ”€â”€ services/                     # Chamadas Ã  API
â”‚       â”‚   â”œâ”€â”€ api.js                    # ConfiguraÃ§Ã£o Axios
â”‚       â”‚   â””â”€â”€ index.js                  # ServiÃ§os agrupados
â”‚       â”‚
â”‚       â”œâ”€â”€ context/                      # Context API
â”‚       â”‚   â””â”€â”€ AuthContext.jsx           # Gerenciamento de autenticaÃ§Ã£o
â”‚       â”‚
â”‚       â””â”€â”€ utils/                        # UtilitÃ¡rios
â”‚           â””â”€â”€ useAuth.js                # Hook de autenticaÃ§Ã£o
â”‚
â””â”€â”€ ğŸ“ docs/                              # DocumentaÃ§Ã£o
    â”œâ”€â”€ API.md                            # DocumentaÃ§Ã£o completa da API
    â””â”€â”€ EXEMPLOS.md                       # Exemplos de uso (curl, fetch)

===============================================
ğŸ” BANCO DE DADOS (MySQL)
===============================================

Tabelas criadas automaticamente na migraÃ§Ã£o:

users
â”œâ”€â”€ id (INT PRIMARY KEY)
â”œâ”€â”€ nome (VARCHAR)
â”œâ”€â”€ email (VARCHAR UNIQUE)
â”œâ”€â”€ senha (VARCHAR - hash)
â”œâ”€â”€ role (ENUM: admin, aluno)
â”œâ”€â”€ ativo (BOOLEAN)
â””â”€â”€ timestamps

courses
â”œâ”€â”€ id (INT PRIMARY KEY)
â”œâ”€â”€ nome (VARCHAR)
â”œâ”€â”€ descricao (TEXT)
â””â”€â”€ timestamps

modules
â”œâ”€â”€ id (INT PRIMARY KEY)
â”œâ”€â”€ course_id (FK)
â”œâ”€â”€ nome (VARCHAR)
â”œâ”€â”€ ordem (INT)
â””â”€â”€ timestamp

lessons
â”œâ”€â”€ id (INT PRIMARY KEY)
â”œâ”€â”€ module_id (FK)
â”œâ”€â”€ titulo (VARCHAR)
â”œâ”€â”€ descricao (TEXT)
â”œâ”€â”€ video_url (VARCHAR)
â”œâ”€â”€ ordem (INT)
â””â”€â”€ timestamp

materials
â”œâ”€â”€ id (INT PRIMARY KEY)
â”œâ”€â”€ lesson_id (FK)
â”œâ”€â”€ tipo (ENUM: pdf, link, arquivo)
â”œâ”€â”€ titulo (VARCHAR)
â”œâ”€â”€ url (VARCHAR)
â””â”€â”€ timestamp

progress
â”œâ”€â”€ id (INT PRIMARY KEY)
â”œâ”€â”€ user_id (FK)
â”œâ”€â”€ lesson_id (FK)
â”œâ”€â”€ concluida (BOOLEAN)
â””â”€â”€ timestamps

course_access
â”œâ”€â”€ id (INT PRIMARY KEY)
â”œâ”€â”€ user_id (FK)
â”œâ”€â”€ course_id (FK)
â”œâ”€â”€ ativo (BOOLEAN)
â””â”€â”€ timestamp

===============================================
ğŸš€ FLUXO DE AUTENTICAÃ‡ÃƒO
===============================================

1. UsuÃ¡rio faz login/registro
2. Backend valida credenciais
3. Backend gera JWT token
4. Token Ã© armazenado no localStorage (frontend)
5. Token Ã© enviado em cada requisiÃ§Ã£o (header Authorization)
6. Middleware valida token
7. UsuÃ¡rio acessa recursos conforme seu role

===============================================
ğŸ“Š ROLES E PERMISSÃ•ES
===============================================

ADMIN
â”œâ”€â”€ Criar/editar/deletar cursos
â”œâ”€â”€ Criar/editar/deletar mÃ³dulos
â”œâ”€â”€ Criar/editar/deletar aulas
â”œâ”€â”€ Adicionar materiais
â”œâ”€â”€ Liberar/bloquear acesso de alunos
â”œâ”€â”€ Gerenciar usuÃ¡rios
â””â”€â”€ Ver progresso de todos os alunos

ALUNO
â”œâ”€â”€ Ver cursos liberados
â”œâ”€â”€ Assistir aulas (YouTube privado)
â”œâ”€â”€ Acessar materiais
â”œâ”€â”€ Marcar aulas como concluÃ­das
â”œâ”€â”€ Ver seu prÃ³prio progresso
â””â”€â”€ Ver dashboard pessoal

===============================================
ğŸŒ ENDPOINTS PRINCIPAIS
===============================================

Auth
â”œâ”€â”€ POST /api/auth/register
â”œâ”€â”€ POST /api/auth/login
â””â”€â”€ GET /api/auth/me

Courses
â”œâ”€â”€ GET /api/courses (pÃºblico)
â”œâ”€â”€ GET /api/courses/my-courses (aluno)
â”œâ”€â”€ POST /api/courses (admin)
â”œâ”€â”€ PUT /api/courses/:id (admin)
â”œâ”€â”€ DELETE /api/courses/:id (admin)
â”œâ”€â”€ POST /api/courses/grant-access (admin)
â””â”€â”€ POST /api/courses/revoke-access (admin)

Lessons & Modules
â”œâ”€â”€ GET /api/lessons
â”œâ”€â”€ GET /api/lessons/:id
â”œâ”€â”€ POST /api/lessons (admin)
â”œâ”€â”€ GET /api/lessons/modules/list
â”œâ”€â”€ POST /api/lessons/modules (admin)
â””â”€â”€ POST /api/lessons/materials (admin)

Progress
â”œâ”€â”€ POST /api/progress/mark-complete (aluno)
â”œâ”€â”€ GET /api/progress (aluno)
â”œâ”€â”€ GET /api/progress/course/:id (aluno)
â””â”€â”€ GET /api/progress/student/:id (admin)

Users (Admin)
â”œâ”€â”€ GET /api/users
â”œâ”€â”€ POST /api/users
â”œâ”€â”€ PUT /api/users/:id
â”œâ”€â”€ DELETE /api/users/:id
â””â”€â”€ PATCH /api/users/:id/deactivate

===============================================
ğŸ“± COMPONENTES FRONTEND
===============================================

Header
â”œâ”€â”€ Logo/Menu
â”œâ”€â”€ Links de navegaÃ§Ã£o
â”œâ”€â”€ User dropdown
â””â”€â”€ Logout

Login/Register
â”œâ”€â”€ FormulÃ¡rio de autenticaÃ§Ã£o
â”œâ”€â”€ ValidaÃ§Ã£o de email/senha
â””â”€â”€ Link para trocar pÃ¡gina

Dashboard (Aluno)
â”œâ”€â”€ Lista de cursos liberados
â”œâ”€â”€ Cards de cursos
â””â”€â”€ Links para acessar aulas

Dashboard (Admin)
â”œâ”€â”€ EstatÃ­sticas (cursos, alunos)
â”œâ”€â”€ Links rÃ¡pidos
â””â”€â”€ Painel de aÃ§Ãµes

AdminCourses
â”œâ”€â”€ Tabela de cursos
â”œâ”€â”€ Criar novo curso
â”œâ”€â”€ Editar curso
â””â”€â”€ Deletar curso

AdminUsers
â”œâ”€â”€ Tabela de usuÃ¡rios
â”œâ”€â”€ Criar usuÃ¡rio
â”œâ”€â”€ Editar usuÃ¡rio
â”œâ”€â”€ Deletar usuÃ¡rio
â””â”€â”€ Desativar usuÃ¡rio

ProtectedRoute
â”œâ”€â”€ Valida autenticaÃ§Ã£o
â””â”€â”€ Valida role (se necessÃ¡rio)

===============================================
ğŸ› ï¸ TECNOLOGIAS UTILIZADAS
===============================================

Backend
â”œâ”€â”€ Node.js + Express
â”œâ”€â”€ MySQL (conexÃ£o via mysql2/promise)
â”œâ”€â”€ JWT (jsonwebtoken)
â”œâ”€â”€ Bcryptjs (hash de senhas)
â”œâ”€â”€ Helmet (seguranÃ§a)
â”œâ”€â”€ CORS (cross-origin)
â”œâ”€â”€ Rate-limiting
â””â”€â”€ Multer (upload - preparado)

Frontend
â”œâ”€â”€ React 18
â”œâ”€â”€ Vite (bundler)
â”œâ”€â”€ React Router v6
â”œâ”€â”€ Axios (HTTP client)
â”œâ”€â”€ Context API (state management)
â””â”€â”€ CSS (CSS-in-JS pronto para Tailwind)

===============================================
âš™ï¸ CONFIGURAÃ‡Ã•ES IMPORTANTES
===============================================

Backend
â”œâ”€â”€ PORT: 5000
â”œâ”€â”€ JWT_SECRET: Alterar em produÃ§Ã£o
â”œâ”€â”€ CORS_ORIGIN: http://localhost:5173
â”œâ”€â”€ NODE_ENV: development/production
â””â”€â”€ DB_*: Credenciais MySQL

Frontend
â”œâ”€â”€ PORT: 5173
â”œâ”€â”€ API_URL: http://localhost:5000/api
â”œâ”€â”€ Proxy para /api
â””â”€â”€ localStorage para tokens

===============================================
ğŸ“ PRÃ“XIMOS PASSOS / TODO
===============================================

Priority 1 (Essencial)
â”œâ”€â”€ Testes unitÃ¡rios (backend)
â”œâ”€â”€ IntegraÃ§Ã£o com YouTube privado
â”œâ”€â”€ Upload de materiais (S3/R2)
â””â”€â”€ ValidaÃ§Ã£o de formulÃ¡rios (frontend)

Priority 2 (Importante)
â”œâ”€â”€ Sistema de pagamento
â”œâ”€â”€ NotificaÃ§Ãµes por email
â”œâ”€â”€ Dashboard de anÃ¡lise (admin)
â”œâ”€â”€ RelatÃ³rios de progresso
â””â”€â”€ Sistema de comentÃ¡rios

Priority 3 (Futuro)
â”œâ”€â”€ Certificados de conclusÃ£o
â”œâ”€â”€ GamificaÃ§Ã£o (badges, pontos)
â”œâ”€â”€ Busca e filtros avanÃ§ados
â”œâ”€â”€ Mobile app (React Native)
â””â”€â”€ IntegraÃ§Ã£o com CRM

===============================================
âœ… CHECKLIST DE FUNCIONAMENTO
===============================================

Setup
â”œâ”€â”€ âœ… MySQL rodando
â”œâ”€â”€ âœ… Backend instalado
â”œâ”€â”€ âœ… Frontend instalado
â”œâ”€â”€ âœ… Tabelas criadas
â””â”€â”€ âœ… Admin padrÃ£o criado

AutenticaÃ§Ã£o
â”œâ”€â”€ âœ… Registrar aluno
â”œâ”€â”€ âœ… Login
â”œâ”€â”€ âœ… JWT gerado
â”œâ”€â”€ âœ… Token armazenado
â””â”€â”€ âœ… Rota protegida funciona

Funcionalidades Admin
â”œâ”€â”€ âœ… Criar curso
â”œâ”€â”€ âœ… Criar mÃ³dulo
â”œâ”€â”€ âœ… Criar aula
â”œâ”€â”€ âœ… Adicionar material
â”œâ”€â”€ âœ… Liberar acesso
â”œâ”€â”€ âœ… Gerenciar usuÃ¡rios
â””â”€â”€ âœ… Ver progresso

Funcionalidades Aluno
â”œâ”€â”€ âœ… Ver cursos liberados
â”œâ”€â”€ âœ… Acessar aula
â”œâ”€â”€ âœ… Ver materiais
â”œâ”€â”€ âœ… Marcar concluÃ­da
â””â”€â”€ âœ… Ver progresso

===============================================

Desenvolvido com â¤ï¸ para educaÃ§Ã£o de qualidade
Ãšltima atualizaÃ§Ã£o: 23 de dezembro de 2025
